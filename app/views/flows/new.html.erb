<div class="row">
	<%= render 'flows/sidebar' %>

	<div class="span9">

		<!-- Page description. How to use! -->
		<div class="page-header">
			<h1>¿Cómo crear un nuevo flujo?</h1>
		</div>
		<p class="lead">
			Proporciona la información solicitada en cada una de las <b>etapas</b> del proceso:
			<ul>
				<li>
					Tipo de flujo a construir.
				</li>
				<li>
					Valores para cada uno de los parámetros obligatorios.
				</li>
				<li>
					Valores para los parámetros pertenecientes a la <b>configuración avanzada.</b>
				</li>
			</ul>
		</p>

		<!-- Type of flow -->

		<%= form_tag flows_url, :method => :post, :id => "flow_form", :class => "form" do %>
			<div class="accordion" id="accordion1">
				<div class="accordion-group">
					<div class="accordion-heading">
						<a href="#collapse1" class="accordion-toggle btn" data-toggle="collapse" data-parent="#accordion1">
							<h2><strong>Paso I: </strong> ¿Qué tipo de flujo deseas realizar?</h2>
						</a>
					</div>
					<div id="collapse1" class="accordion-body collapse">
						<div class="accordion-inner"> 
							<div class="row-fluid">
								<ul class="thumbnails">
									<li class="span4">
										<div class="thumbnail">
											<img src="/assets/system-install-1.png">
											<div class="caption">
												<h3>Instalación</h3>
												<p></p>
											</div>
											<label class="radio" onclick='$("#select_maintenance").hide(); $("#select_tool").show();'>
												<%= radio_button "radio_button", "type", "install", :onclick => '$("#select_maintenance").show(); $("#select_tool").hide();' %>
												¡Crear un flujo de <strong><i>instalación</i></strong>!
											</label>
											<%= select_tag "select_tool", options_for_select([["MySQL", "mysql"], ["CouchBase", "couchbase"], ["Tomcat", "tomcat"]]) %>
											<%= javascript_tag '$("#select_tool").hide()' %>
										</div>
									</li>

									<li class="span4">
										<div class="thumbnail">
											<img src="/assets/system-maintenance.png">
											<div class="caption">
												<h3>Mantenimiento</h3>
												<p></p>
											</div>
											<label class="radio" onclick='$("#select_maintenance").show(); $("#select_tool").hide();'>
												<%= radio_button "radio_button", "type", "maintenance", :onclick => '$("#select_maintenance").show(); $("#select_tool").hide();' %>
												¡Crear un flujo de <strong><i>mantenimiento</i></strong>!
											</label>
											<%= select_tag "select_maintenance", options_for_select([]) %>
											<%= javascript_tag '$("#select_maintenance").hide()' %>
										</div>
									</li>

									<!-- Empty -->
									<li class="span4">
										<div class="thumbnail">
											<img src="">
											<div "caption">
											</div>
										</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>

				<div class="accordion-group">
					<div class="accordion-heading">
						<a href="#collapse2" class="accordion-toggle btn" data-toggle="collapse" data-parent="#accordion1">
							<h2><strong>Paso II: </strong>Información básica</h2> 
						</a>
					</div>
					<div id="collapse2" class="accordion-body collapse">
						<div class="accordion-inner">							
							<div class="control-group">
								<%= label_tag "flow_name", "Nombre del flujo" %>
								<%= text_field_tag "flow[name]", nil, :id => "flow_name", :placeholder => "Ejemplo: mysql-installer" %>
										<a href="#this" id="help-1" class="btn btn-small btn-info"><i class="icon-comment"></i>¿Ayuda?</a>
								<%= javascript_tag do %>
									$(function () {
			    						$('#help-1').popover({
			        						title: 'Descripción del campo',
			        						content: 'Nombre del archivo correspondiente a este nodo.',
			        						placement: 'right'
			    						});
									});
								<% end %>
								<br>

								<%= label_tag "flow_node_name", "Nombre del nodo" %>
								<%= text_field_tag "flow[node_name]", nil, :id => "flow_node_name", :placeholder => "Ejemplo: web-server-one" %>
										<a href="#this" id="help0" class="btn btn-small btn-info"><i class="icon-comment"></i>¿Ayuda?</a>
								<%= javascript_tag do %>
									$(function () {
			    						$('#help0').popover({
			        						title: 'Descripción del campo',
			        						content: 'Nombre del nodo a ser configurado por este flujo.',
			        						placement: 'right'
			    						});
									});
								<% end %>
								<br>
							</div>
						</div>
					</div>
				</div>
			<%= render "flows/couchbase_form" %>
			<%= content_for :couchbase %>
			<%= submit_tag "Aceptar", :data => { :confirm => "¿Estas seguro? "}, :class => "btn btn-large btn-success" %>
		<% end %>
	</div>
</div>
